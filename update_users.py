#!/usr/bin/env python3
# -*- coding: utf-8 -*-
import random
import os
import sys
import shutil

import requests
from pymongo import MongoClient


client = MongoClient('mongodb://lwtest:lewantest@172.16.1.202:27017/admin')
db = client['mini_api']


BASE_DIR = os.path.abspath(os.path.dirname(__name__))
# IMAGE_DIR = os.path.join(BASE_DIR, '2019')
# if os.path.isdir(IMAGE_DIR):
#     shutil.rmtree(os.path.join(BASE_DIR, '2019'))


def update_users():
    src_col = db.auth_userinfo
    target_col = db.fake_lucky_user_v2

    # target_col.delete_many({})

    query_dict = {'status': 1}
    total = src_col.count_documents(query_dict)

    offset = 8600
    limit = 100

    while offset < total:
        records = []
        for rec in src_col.find(query_dict).skip(offset).limit(limit):
            record = parse_record(rec)

            avatar_url = record['avatar_url']

            try:
                res = requests.get(avatar_url, timeout=10)
            except:
                print('Request error, uid=%s, url=%s' % (record['uid'], avatar_url))
                continue

            random_dir = get_random_dir()
            random_name = get_random_string() + '.jpg'
            dir_path = os.path.join(BASE_DIR, random_dir)
            if not os.path.isdir(dir_path):
                os.makedirs(dir_path)

            path = os.path.join(dir_path, random_name)

            with open(path, 'wb') as fp:
                fp.write(res.content)

            record['avatar'] = os.path.join(random_dir, random_name)

            records.append(record)

        target_col.insert_many(records)
        offset += limit

        sys.stdout.write('\r updated %s/%s' % (offset, total))


def get_random_dir():
    m = random.randint(1, 12)
    d = random.randint(1, 28)

    return '2019/%02d/%02d' % (m, d)


def parse_record(rec: dict):
    doc = {
        'chn': rec['chn'],
        'uid': rec['uid'],
        'openid': rec['openid'],
        'platform': get_random_platform(),
        'avatar_url': rec['avatar_url'],
        'nickname': rec['nickname'],
        'province': rec['province'],
        'city': rec['city'],
        'country': rec['country'],
        'model': get_random_model(),
        'version': get_random_version(),
        'ip': rec['region']['ip'],
        'region': rec['region'],

        'create_time': rec['create_time'],
        'login_time': rec['modify_time'],
    }
    return doc


def get_random_platform():
    return random.choice(['android', 'ios'])


def get_random_version():
    return random.choice(VERSION_LIST)


def get_random_model():
    return random.choice(MOBILE_LIST)


MOBILE_LIST = ["1503-M02", "1503-A01", "1505-A01", "1505-A02", "1603-A03", "1605-A01", "1605-A02", "1607-A01", "1801-A01", "1707-A01", "1713-A01", "1807-A01", "1809-A01", "1803-A01", "1711-A01", "1501-M02", "1501-A02", "1603-A02", "1701-M01", "1515-A01", "1509-M02", "1509-A00", "1703-M01", "8681-M01", "8681-M02", "8681-A01", "8692-M02", "8692-A00", "8692-A00", "A1324", "A1303", "A1325", "A1332", "A1332", "A1431", "A1387", "A1429", "A1442", "A1533", "A1518", "A1528", "A1530", "A1532", "A1516", "A1526", "A1529", "A1586", "A1589", "A1524", "A1593", "A1700", "A1691", "A1699", "A1690", "A1723", "A1724", "A1660", "A1780", "A1661", "A1786", "A1863", "A1907", "A1864", "A1899", "A1865", "A1903", "A2100", "A2099", "A2104", "A2103", "A2108", "A2107", "A2223", "A2217", "A2220", "A1219", "A1337", "A1395", "A1396", "A1397", "A1395", "A1416", "A1430", "A1458", "A1460", "A1822", "A1823", "A1893", "A1954", "A2197", "A2199", "A1475", "A1476", "A1566", "A1567", "A2152", "A2154", "A1584", "A1652", "A1673", "A1675", "A1670", "A1821", "A1701", "A1852", "A1876", "A1876", "A1983", "A1983", "A1980", "A1980", "A1979", "A1979", "A1432", "A1455", "A1474", "A1489", "A1490", "A1491", "A1599", "A1600", "A1601", "A1538", "A1550", "A2133", "A2125", "A1553", "A1554", "A1802", "A1803", "A1757", "A1816", "A1758", "A1817", "A1890", "A1892", "A1858", "A1859", "A1977", "A1978", "A2007", "A2008", "A2092", "A2093", "A2156", "A2157", "A1213", "A1319", "A1318", "A1367", "A1421", "A1509", "A1574", "A2178", "A1203", "A1241", "A1349", "A1428", "A1453", "A1457", "A1456", "A1507", "A1549", "A1522", "A1633", "A1688", "A1634", "A1687", "A1662", "A1779", "A1778", "A1785", "A1784", "A1906", "A1905", "A1898", "A1897", "A1902", "A1901", "A1920", "A2097", "A2098", "A1921", "A2101", "A2102", "A1984", "A2105", "A2106", "A2111", "A2221", "A2160", "A2215", "A2161", "A2218", "A1403", "A1459", "A2198", "A2200", "A2123", "A2153", "A1674", "A1671", "A1709", "A1895", "A2014", "A1895", "A2014", "A1934", "A2013", "A1934", "A2013", "A1454", "A2124", "A2126", "A1860", "A1889", "A1861", "A1891", "A1975", "A1976", "A2094", "A2095", "A1288", "H60-L01", "H60-L02", "H60-L03", "H60-L11", "H60-L12", "H60-L21", "PE-TL00M", "PE-TL10", "PE-TL20", "PE-UL00", "PE-CL00", "PLK-AL10", "PLK-TL01H", "PLK-TL00", "PLK-UL00", "PLK-CL00", "ATH-AL00", "ATH-TL00H", "ATH-TL00", "ATH-UL00", "ATH-CL00", "FRD-AL00", "FRD-AL10", "FRD-TL00", "FRD-DL00", "PRA-AL00", "PRA-AL00X", "PRA-TL10", "STF-AL00", "STF-AL10", "STF-TL10", "LLD-AL00", "LLD-AL10", "LLD-TL10", "LLD-AL20", "LLD-AL30", "COL-AL00", "COL-AL10", "COL-TL00", "COL-TL10", "HRY-AL00", "HRY-AL00a", "HRY-TL00", "HRY-AL00T", "HRY-AL00Ta", "HRY-TL00T", "YAL-AL00", "YAL-TL00", "YAL-AL10", "YAL-TL10", "YAL-AL50", "YAL-TL50", "LRA-AL00", "LRA-TL00", "KNT-AL10", "KNT-AL20", "KNT-TL10", "KNT-UL10", "DUK-AL20", "DUK-TL30", "JMM-AL00", "JMM-AL10", "JMM-TL00", "JMM-TL10", "BKL-AL00", "BKL-AL20", "BKL-TL10", "PCT-AL10", "PCT-TL10", "NTS-AL00", "TNY-AL00", "TNY-TL00", "EDI-AL10", "EDI-DL00", "RVL-AL09", "COR-AL00", "COR-AL10", "COR-TL10", "ASK-AL00x", "ASK-TL00x", "KSA-AL10", "G750-T00", "G750-U00", "G750-T20", "G750-T01", "Che1-CL20", "Che1-CL00", "Che2-TL00", "Che2-TL00H", "Che2-TL00M", "CHE-TL00H", "CHE-TL00", "Che2-UL00", "KIW-AL00", "KIW-TL00H", "KIW-TL00", "KIW-UL00", "KIW-CL00", "BLN-AL10", "BLN-AL20", "BLN-AL30", "BLN-AL40", "BLN-TL00", "BLN-TL10", "BND-AL00", "BND-AL10", "BND-TL10", "JSN-AL00", "JSN-AL00a", "JSM-TL00", "ARE-AL00", "ARE-AL10", "ARE-TL00", "HLK-AL00", "HLK-TL00", "HLK-AL10", "H30-T00", "H30-T10", "H30-U10", "H30-L01", "H30-L01M", "H30-L02", "H30-C00", "Hol-T00", "Hol-U10", "CHM-TL00H", "CHM-TL00", "CHM-UL00", "CHM-CL00", "NEM-AL10", "NEM-TL00H", "NEM-TL00", "NEM-UL00", "LND-AL30", "LND-AL40", "LND-TL30", "LND-TL40", "BKK-AL00", "BKK-AL10", "BKK-TL00", "SCL-AL00", "SCL-TL00H", "SCL-TL00", "SCL-CL00", "CAM-AL00", "CAM-TL00H", "CAM-TL00", "CAM-UL00", "CAM-CL00", "DLI-AL10", "DLI-TL20", "AUM-AL00", "AUM-AL20", "AUM-TL00", "AUM-TL20", "JAT-AL00", "JAT-TL00", "G621-TL00M", "G621-TL00", "G620S-UL00", "C8817D", "CUN-AL00", "CUN-TL00", "MYA-AL10", "MYA-TL10", "DUA-AL00", "DUA-TL00", "KSA-AL00", "KSA-TL00", "S8-701w", "S8-701u", "T1-821w", "T1-823L", "JDN-W09", "JDN-AL00", "AGS2-W09HN", "AGS2-AL00HN", "JDN2-W09HN", "JDN2-AL00HN", "JDN-AL50HN", "HDN-W09", "HDN-L09", "HDL-W09", "HDL-AL09", "7D-501u", "7D-503L", "7D-503LT", "GEM-703L", "GEM-703LT", "T1-701u", "T1-701ua", "BGO-DL09", "T1-A21w", "T1-A23L", "KOB-W09", "KOB-L09", "AGS-W09", "AGS-L09", "BG2-W09", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "MHA-AL00", "MHA-TL00", "LON-AL00", "ALP-AL00", "ALP-TL00", "BLA-AL00", "BLA-TL00", "NEO-AL00", "HMA-AL00", "HMA-TL00", "LYA-AL00", "LYA-AL10", "LYA-TL00", "EVR-AL00", "EVR-TL00", "EVR-AN00", "LYA-AL00P", "TAH-AN00", "TAS-AL00", "TAS-TL00", "TAS-AN00", "TAS-TN00", "LIO-AL00", "LIO-TL00", "LIO-AN00", "LIO-TN00", "LIO-AN00P", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "DAV-703L", "DAV-713L", "EVA-AL00", "EVA-AL10", "EVA-TL00", "EVA-DL00", "EVA-CL00", "VIE-AL10", "VTR-AL00", "VTR-TL00", "VKY-AL00", "VKY-TL00", "EML-AL00", "EML-TL00", "CLT-AL00", "CLT-AL01", "CLT-AL00l", "CLT-TL00", "CLT-TL01", "ELE-AL00", "ELE-TL00", "VOG-AL00", "VOG-AL10", "VOG-TL00", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "WAS-AL00", "WAS-TL10", "PIC-AL00", "PIC-TL00", "BAC-AL00", "BAC-TL00", "HWI-AL00", "HWI-TL00", "ANE-AL00", "ANE-TL00", "PAR-AL00", "PAR-TL00", "INE-AL00", "INE-TL00", "VCE-AL00", "VCE-TL00", "MAR-AL00", "MAR-TL00", "SEA-AL00", "SEA-TL00", "SEA-AL10", "SEA-TL10", "GLK-AL00", "GLK-TL00", "SPN-AL00", "SPN-TL00", "SPN-AL00", "SPN-TL00", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "RNE-AL00", "SNE-AL00", "POT-AL00", "POT-AL10", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "NCE-AL00", "NCE-AL10", "NCE-TL00", "NCE-TL10", "DIG-AL00", "DIG-TL10", "TRT-AL00", "TRT-AL00A", "TRT-TL10", "TRT-TL10A", "SLA-AL00", "SLA-TL10", "FIG-AL00", "FIG-AL10", "FIG-TL00", "FIG-TL10", "FLA-AL00", "FLA-AL10", "FLA-AL20", "FLA-TL00", "FLA-TL10", "LDN-AL00", "LDN-AL10", "LDN-AL20", "LDN-TL00", "LDN-TL10", "LDN-TL20", "ATU-AL10", "ATU-TL10", "DRA-AL00", "DRA-TL00", "JKM-AL00", "JKM-AL00a", "JKM-AL00b", "JKM-TL00", "ARS-AL00", "ARS-TL00", "DUB-AL00", "DUB-AL20", "DUB-AL00a", "DUB-TL00", "DUB-TL00a", "POT-AL00a", "POT-TL00a", "MRD-AL00", "MRD-TL00", "STK-AL00", "STK-TL00", "ART-AL00x", "ART-TL00x", "AQM-AL00", "AQM-TL00", "S8-301W", "S8-301U", "S8-303L", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "PLE-703L", "PLE-703LT", "FDR-A01w", "FDR-A03L", "BTV-W09", "BTV-DL09", "CPN-W09", "CPN-AL00", "BAH-W09", "BAH-AL00", "SHT-W09", "SHT-AL09", "CMR-W09", "CMR-AL09", "CMR-W19", "CMR-AL19", "BAH2-W09", "BAH2-AL10", "JDN2-W09", "JDN2-AL00", "JDN2-AL50", "AGS2-W09", "AGS2-AL00", "VRD-W09", "VRD-AL09", "VRD-W10", "VRD-AL10", "SCM-W09", "SCM-AL09", "BZK-W00", "BZK-L00", "BZA-W00", "BZA-L00", "MON-W19", "MON-AL19", "BZT-W09", "BZT-AL00", "BZT-AL10", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "HUAWEI", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Lenovo", "Letv", "Letv", "Letv", "Letv", "Letv", "Letv", "Letv", "Letv", "Letv", "Letv", "Letv", "Le", "Le", "Le", "Le", "Le", "Le", "Le", "Le", "Le", "Le", "Letv", "LEX622", "LEX626", "LEX623", "LEX720", "LEX722", "LEX728", "LEX726", "LEX651", "LEX650", "LEX658", "LEX652", "LEX656", "LEX659", "LEX850", "M8", "M8SE", "M9", "M030", "M031", "M032", "M040", "M045", "M351", "M353", "M355", "M356", "M460", "M460A", "M461", "M460H", "M462", "M462U", "M462H", "M575", "M575M", "M575U", "M575H", "M685Q", "M685M", "M685U", "M685C", "M685H", "M576", "M576U", "M576H", "M570Q", "M570M", "M570C", "M570H", "M570Q-S", "M686", "M686G", "M686H", "M792Q-L", "M792M-L", "M792C-L", "M792H", "M792Q", "M792C", "M793Q", "M793H", "M881Q", "M881M", "M881H", "M891Q", "M891H", "M871Q", "M871H", "M882Q", "M882H", "M892Q", "M872Q", "M872H", "M971Q", "M971H", "M926Q", "M926H", "M973Q", "M928Q", "M852Q", "M852H", "M813Q", "M813H", "M816Q", "M816H", "M810H", "M818H", "M819H", "M822Q", "M822H", "M923Q", "M923H", "M463M", "M463U", "M463C", "M463H", "M571", "M571M", "M571U", "M571C", "M571H", "M681Q", "L681Q", "M681M", "L681M", "M681C", "L681C", "M681H", "L681H", "M621Q", "M621M", "M621C", "M621C-S", "M621H", "M721Q", "M721M", "M721C", "M721H", "A680Q", "A680M", "A680H", "M741A", "M741Y", "M851Q", "M851M", "M682Q", "M465M", "M465A", "M578", "M578A", "M578M", "M578MA", "M578U", "M578C", "M578CA", "M578CE", "M578H", "M688Q", "M688M", "M688U", "M688C", "Y685Q", "Y685M", "Y685C", "Y685H", "M611A", "M611Y", "M611D", "M611H", "M612Q", "M612M", "M612C", "M612H", "M711Q", "M711M", "M711C", "M711H", "M712Q", "M712Q-B", "M712M", "M712C", "M712H", "M811Q", "M811H", "S685Q", "S685M", "S685C", "S685H", "U680A", "U680Y", "U680D", "U680H", "U685Q", "U685M", "U685C", "U685H", "M57A", "M57AM", "M57AU", "M57AC", "M710M", "M710H", "L47M1-AA", "L40M2-AA", "L49M2-AA", "L55M2-AA", "L48M3-AA", "L48M3-AR", "L55M4-AA", "L55M4-AR", "L60M4-AA", "L60M4-AR", "L70M4-AA", "L43M3-AA", "L43M3-AR", "L48M3-AF", "L55M5-AA", "L60M5-AA", "L65M5-AA", "L65M4-AQ", "L32M5-AZ", "L32M5-AZ", "L40M5-AD", "L43M5-AZ", "L43M5-AD", "L43M5-5A", "L43M5-AD", "L49M5-AZ", "L50M5-AD", "L50M5-5A", "L50M5-5A", "L55M5-AZ", "L55M5-AD", "L55M5-5A", "L58M5-4A", "L65M5-AZ", "L65M5-AD", "L65M5-5A", "L70M5-4A", "L49M5-AB", "L55M5-AB", "L65M5-AB", "L65M5-4", "L75M5-AB", "L32M5-AD", "L40M5-4C", "L40M5-4C", "L43M5-AX", "L50M5-AD", "L55M5-AZ", "L65M5-4C", "L32M5-AD", "L43M5-AU", "L43M5-5S", "L50M5-AD", "L50M5-5S", "L55M5-AD", "L55M5-5S", "L55M5-AQ", "L58M5-4C", "L65M5-AD", "L65M5-5S", "L65M5-AD", "L70M5-4S", "L75M5-4S", "L43M5-4X", "L55M5-AD", "L65M5-4X", "L55M6-5", "L65M6-5", "L75M6-5", "L32M5-AD", "L32M5-EC", "L40M5-FA", "L43M5-FA", "L43M5-EC", "L43M5-EX", "L55M5-AZ", "L55M5-EC", "L55M5-EX", "L65M5-EA", "L65M5-EC", "L43M5-ES", "L55M5-ES", "L65M5-ES", "L55M5-AB", "L65M5-4", "L65M5-BH", "L40M5-RA", "L70M5-RA", "MDZ-18-DA", "MDZ-19-DA", "MDZ-05-AA", "MDZ-06-AA", "MDZ-06-AB", "MDZ-09-AA", "MDZ-09-AK", "MDZ-15-AA", "MDZ-16-AA", "MDZ-18-AA", "MDZ-19-AA", "MDZ-21-AA", "MDZ-20-AA", "MDZ-23-AA", "L32M5-AI", "L43M5-AI", "L55M5-AI", "L32M5-AL", "L32M5-AN", "L43M5-AN", "L49M5-AN", "L55M5-AN", "L55M4-4XINA", "L32M5-AN", "L43M5-AN", "MDZ-16-AB", "MDZ-22-AB", "XT1085", "XT1079", "XT1077", "XT1115", "XT1570", "XT1561", "XT1581", "XT1635-03", "XT1662", "XT1650-05", "XT1710-08", "XT1710-11", "XT1799-1", "XT1799-2", "XT1789-05", "XT1925-10", "XT1929-15", "XT1924-9", "XT1943-1", "XT1942-1", "XT1941-2", "XT1965-6", "XT1970-5", "TA-1000", "TA-1054", "TA-1041", "TA-1062", "TA-1042", "TA-1094", "TA-1109", "TA-1099", "TA-1131", "TA-1172", "TA-1117", "NX501", "NX401", "NX402", "NX503A", "NX503J", "NX403A", "NX506J", "NX507J", "NX507H", "NX505J", "NX505H", "NX508J", "NX508H", "NX511J", "NX511H", "NX510J", "NX512H", "NX512J", "NX518J", "NX531J", "NX529J", "NX523J", "NX535J", "NX549J", "NX563J", "NX591J", "NX569J", "NX569H", "NX595J", "NX589J", "NX606J", "NX611J", "NX627J", "NX609J", "NX619J", "NX629J", "NX629J", "NX601J", "NX616J", "NX612J", "NX513J", "NX513H", "NX551J", "NX573J", "NX907J", "NX541J", "NX575J", "NX608J", "NX617J", "ONE", "ONE", "ONE", "ONE", "ONE", "ONE", "ONE", "ONE", "ONE", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "ONEPLUS", "GM1900", "GM1901", "GM1903", "GM1905", "GM1910", "GM1911", "GM1913", "GM1915", "GM1917", "GM1920", "GM1925", "HD1900", "HD1901", "HD1903", "HD1905", "HD1907", "HD1910", "HD1911", "HD1913", "PACM00", "PACT00", "PAAM00", "PAAT00", "PBCM10", "PBCT10", "PBEM00", "PBET00", "PBDM00", "PBDT00", "PAFM00", "PAFT00", "PAHM00", "PAFT10", "PCAM00", "PCAT00", "PCCM00", "PCCT00", "PCDM10", "PCDT10", "PCKM00", "PCKT00", "PCLM10", "PCKM80", "PCKT80", "PADM00", "PADT00", "PBAM00", "PBBM30", "PBAT00", "PBBT30", "PBFM00", "PBFT00", "PBBM00", "PBBT00", "PCDM00", "PCDT00", "PCAM10", "PCAT10", "PCEM00", "PCET00", "PCHM10", "PCHT10", "PCHM30", "PCHT30", "PBCM30", "PCGM00", "PCGT00", "PCNM00", "PCNT00", "RMX1901", "RMX1851", "RMX1971", "RMX1991", "RMX1931", "CPH1861", "RMX1805", "RMX1801", "RMX1821", "RMX1821", "RMX1851", "RMX1911", "RMX1971", "RMX1901", "RMX1921", "RMX1991", "RMX1805", "RMX1941", "RMX1831", "GT-I9000", "GT-I9008", "GT-I9008L", "GT-I9018", "SCH-i909", "GT-I9100", "GT-I9100G", "GT-I9108", "SCH-I919", "GT-I9300", "GT-I9308", "SCH-I939", "SCH-I939D", "GT-I9300I", "GT-I9308I", "SCH-I939I", "GT-I8190N", "GT-I9500", "GT-I9502", "GT-I9508", "SCH-I959", "GT-I9507V", "GT-I9508V", "SM-C101", "SM-G9006V", "SM-G9008V", "SM-G9009D", "SM-G9006W", "SM-G9008W", "SM-G9009W", "SM-G9200", "SM-G9208", "SM-G9209", "SM-G9250", "SM-G9280", "SM-G9300", "SM-G9308", "SM-G9350", "SM-G9500", "SM-G9508", "SM-G9550", "SM-G9600", "SM-G9608", "SM-G9650", "SM-G8750", "SM-G9700", "SM-G9708", "SM-G9730", "SM-G9738", "SM-G9750", "SM-G9758", "GT-I9220", "GT-I9228", "SCH-I889", "GT-N7100", "GT-N7102", "GT-N7102i", "GT-N7108", "GT-N7108D", "SCH-N719", "SM-N9002", "SM-N9006", "SM-N9008", "SM-N9008V", "SM-N9008S", "SM-N9009", "SM-N7506V", "SM-N7508V", "SM-N7509V", "SM-N9100", "SM-N9106W", "SM-N9108V", "SM-N9109W", "SM-N9150", "SM-N9200", "SM-N9208", "SM-N9300", "SM-N9500", "SM-N9508", "SM-N9600", "SM-N9608", "SM-N9700", "SM-N9760", "SM-A3000", "SM-A3009", "SM-A5000", "SM-A5009", "SM-A7000", "SM-A7009", "SM-A8000", "SM-A5100", "SM-A5108", "SM-A7100", "SM-A7108", "SM-A9000", "SM-A9100", "SM-G8850", "SM-G8858", "SM-A6050", "SM-A6058", "SM-G6200", "SM-G8870", "SM-A9200", "SM-A2070", "SM-A3050", "SM-A3058", "SM-A5070", "SM-A6060", "SM-A7050", "SM-A7070", "SM-A8050", "SM-A9080", "SM-F9000", "SM-M3070", "SM-C5000", "SM-C5010", "SM-C5018", "SM-C7000", "SM-C7010", "SM-C7018", "SM-C7100", "SM-C7108", "SM-C9000", "SM-C9008", "SM-J3109", "SM-J5008", "SM-J7008", "SM-J3110", "SM-J3119", "SM-J3119S", "SM-J5108", "SM-J7108", "SM-J7109", "SM-J3300", "SM-J3308", "SM-G5500", "SM-G6000", "SM-G5700", "SM-G5510", "SM-G5520", "SM-G5528", "SM-G6100", "SM-G1600", "SM-G1650", "SM-G8508S", "SM-E7000", "SM-E7009", "SM701", "SM705", "SM801", "SM901", "SM919", "YQ601", "YQ603", "YQ605", "YQ607", "OD103", "OD105", "OS105", "OS103", "OC105", "OC106", "DE106", "OE106", "DT1901A", "DT1902A", "V1814A", "V1814T", "V1809A", "V1809T", "V1816A", "V1816T", "V1829A", "V1829T", "V1838A", "V1838T", "V1836A", "V1836T", "V1821A", "V1821T", "V1923A", "V1923T", "V1924A", "V1924T", "V1801A0", "V1730DA", "V1730DT", "V1730EA", "V1813BA", "V1813BT", "V1813A", "V1813T", "V1813A", "V1813T", "V1730GA", "V1921A", "V1921T", "V1911A", "V1919A", "V1941A", "V1941T", "V1731CA", "V1732A", "V1732T", "V1732A", "V1732T", "V1730EA", "V1818CA", "V1818CT", "V1818A", "V1818T", "V1818CA", "V1818CT", "V1818CA", "V1818CT", "V1813A", "V1813T", "V1901A", "V1901T", "V1930A", "V1930T", "V1934A", "V1934T", "V1913A", "V1913T", "V1824BA", "V1824A", "V1914A", "V1914T", "V1922A", "V1922T", "V1916A", "V1916T", "V1936A", "V1936T", "V1831A", "V1831T", "V1832A", "V1832T", "V1818A", "V1941A", "V1941T", "V1928A", "V1928T", "MI-ONE", "MI-ONE", "MI-ONE", "2012051", "2012053", "2012052", "2012061", "2012062", "2013012", "2013021", "2012121", "2013061", "2013062", "2013063", "2014215", "2014218", "2014216", "2014719", "2014716", "2014726", "2015015", "2015561", "2015562", "2015911", "2015201", "2015628", "2015105", "2015711", "2016070", "2016089", "MDE2", "MDT2", "MCE16", "MCT1", "M1804D2SE", "M1804D2ST", "M1804D2SC", "M1803E1A", "M1803E1T", "M1803E1C", "M1807E8S", "M1807E8A", "M1805E2A", "M1808D2TE", "M1808D2TT", "M1808D2TC", "M1808D2TG", "M1902F1A", "M1902F1T", "M1902F1C", "M1902F1G", "M1908F1XE", "M1903F2A", "M1903F2G", "M1903F10G", "M1903F11G", "M1904F3BG", "2014616", "2014619", "2014618", "2014617", "2015011", "2015021", "2015022", "2015501", "2015211", "2015212", "2015213", "MCE8", "MCT8", "M1910F4G", "2016080", "MDE5", "MDT5", "MDE5S", "M1803D5XE", "M1803D5XA", "M1803D5XT", "M1803D5XC", "M1810E5E", "M1810E5A", "M1810E5GG", "2016001", "2016002", "2016007", "MDE40", "MDT4", "MDI40", "M1804E4A", "M1804E4T", "M1804E4C", "M1904F3BC", "M1904F3BT", "M1906F9SC", "M1910F4E", "M1901F9E", "M1901F9T", "MDG2", "MDI2", "M1804D2SG", "M1804D2SI", "M1805D1SG", "M1906F9SH", "M1906F9SI", "A0101", "2015716", "MCE91", "M1806D9W", "M1806D9E", "M1806D9PE", "2013022", "2013023", "2013029", "2013028", "2014011", "2014501", "2014813", "2014112", "2014811", "2014812", "2014821", "2014817", "2014818", "2014819", "2014502", "2014512", "2014055", "2014816", "2015811", "2015815", "2015812", "2015810", "2015817", "2015819", "2015818", "2015816", "2016030", "2016031", "2016032", "2016037", "2016036", "2016035", "2016033", "2016090", "2016060", "2016111", "2016112", "2016117", "2016116", "MAE136", "MAT136", "MAG138", "MAI132", "MDE1", "MDT1", "MDG1", "MDI1", "MEE7", "MET7", "MEG7", "MEI7", "MCE3B", "MCT3B", "MCG3B", "MCI3B", "M1804C3DE", "M1804C3DT", "M1804C3DC", "M1804C3DG", "M1804C3DH", "M1804C3DI", "M1805D1SE", "M1805D1ST", "M1805D1SC", "M1805D1SI", "M1804C3CE", "M1804C3CT", "M1804C3CC", "M1804C3CG", "M1804C3CH", "M1804C3CI", "M1810F6LE", "M1810F6LT", "M1810F6LG", "M1810F6LH", "M1810F6LI", "M1903C3EE", "M1903C3ET", "M1903C3EC", "M1903C3EG", "M1903C3EH", "M1903C3EI", "M1908C3IE", "M1908C3IC", "M1908C3IG", "M1908C3IH", "M1908C3II", "M1908C3KE", "M1908C3KG", "M1908C3KH", "M1908C3KI", "2014018", "2013121", "2014017", "2013122", "2014022", "2014021", "2014715", "2014712", "2014915", "2014912", "2014916", "2014911", "2014910", "2015052", "2015051", "2015712", "2015055", "2015056", "2015617", "2015611", "2015112", "2015115", "2015116", "2015161", "2016050", "2016051", "2016101", "2016130", "2016100", "2016102", "MBE6A5", "MBT6A5", "MEE7S", "MET7S", "MEC7S", "M1803E7SG", "M1803E7SH", "MEI7S", "MDE6", "MDT6", "MDG6", "MDI6", "MDE6S", "MDT6S", "MDG6S", "MDI6S", "M1806E7TG", "M1806E7TH", "M1806E7TI", "M1901F7E", "M1901F7T", "M1901F7C", "M1901F7G", "M1901F7H", "M1901F7I", "M1901F7BE", "M1901F7S", "M1908C3JE", "M1908C3JC", "M1908C3JG", "M1908C3JH", "M1908C3JI", "M1908C3XG", "M1906G7E", "M1906G7T", "M1906G7G", "M1906G7I", "M1803E6E", "M1803E6T", "M1803E6C", "M1803E6G", "M1803E6H", "M1803E6I", "M1810F6G", "M1810F6I", "2016020", "2016021", "M1903F10A", "M1903F10C", "M1903F10I", "M1903F11A", "M1903F11C", "M1903F11I", "M1903F11A", "M1903C3GG", "M1903C3GH", "M1903C3GI", "SKR-A0", "AWM-A0", "SKW-A0", "DLT-A0", "M1805E10A"]


VERSION_LIST = [
    '1.0.0', '1.0.1', '1.0.2', '1.0.3', '1.0.4', '1.0.5', '1.0.6', '1.0.7', '1.0.8', '1.0.9', '1.1.0', '1.1.1', '1.1.2', '1.1.3', '1.1.4', '1.1.5', '1.1.6', '1.1.7', '1.1.8', '1.1.9', '1.2.0', '1.2.1', '1.2.2', '1.2.3', '1.2.4', '1.2.5', '1.2.6', '1.2.7', '1.2.8', '1.2.9', '1.3.0', '1.3.1', '1.3.2', '1.3.3', '1.3.4', '1.3.5', '1.3.6', '1.3.7', '1.3.8', '1.3.9', '1.4.0', '1.4.1', '1.4.2', '1.4.3', '1.4.4', '1.4.5', '1.4.6', '1.4.7', '1.4.8', '1.4.9', '1.5.0', '1.5.1', '1.5.2', '1.5.3', '1.5.4', '1.5.5', '1.5.6', '1.5.7', '1.5.8', '1.5.9', '1.6.0', '1.6.1', '1.6.2', '1.6.3', '1.6.4', '1.6.5', '1.6.6', '1.6.7', '1.6.8', '1.6.9', '1.7.0', '1.7.1', '1.7.2', '1.7.3', '1.7.4', '1.7.5', '1.7.6', '1.7.7', '1.7.8', '1.7.9', '1.8.0', '1.8.1', '1.8.2', '1.8.3', '1.8.4', '1.8.5', '1.8.6', '1.8.7', '1.8.8', '1.8.9', '1.9.0', '1.9.1', '1.9.2', '1.9.3', '1.9.4', '1.9.5', '1.9.6', '1.9.7', '1.9.8', '1.9.9', '1.10.0', '1.10.1', '1.10.2', '1.10.3', '1.10.4', '1.10.5', '1.10.6', '1.10.7', '1.10.8', '1.10.9', '1.11.0', '1.11.1', '1.11.2', '1.11.3', '1.11.4', '1.11.5', '1.11.6', '1.11.7', '1.11.8', '1.11.9', '1.12.0', '1.12.1', '1.12.2', '1.12.3', '1.12.4', '1.12.5', '1.12.6', '1.12.7', '1.12.8', '1.12.9', '1.13.0', '1.13.1', '1.13.2', '1.13.3', '1.13.4', '1.13.5', '1.13.6', '1.13.7', '1.13.8', '1.13.9', '1.14.0', '1.14.1', '1.14.2', '1.14.3', '1.14.4', '1.14.5', '1.14.6', '1.14.7', '1.14.8', '1.14.9', '1.15.0', '1.15.1', '1.15.2', '1.15.3', '1.15.4', '1.15.5', '1.15.6', '1.15.7', '1.15.8', '1.15.9', '1.16.0', '1.16.1', '1.16.2', '1.16.3', '1.16.4', '1.16.5', '1.16.6', '1.16.7', '1.16.8', '1.16.9', '1.17.0', '1.17.1', '1.17.2', '1.17.3', '1.17.4', '1.17.5', '1.17.6', '1.17.7', '1.17.8', '1.17.9', '1.18.0', '1.18.1', '1.18.2', '1.18.3', '1.18.4', '1.18.5', '1.18.6', '1.18.7', '1.18.8', '1.18.9', '1.19.0', '1.19.1', '1.19.2', '1.19.3', '1.19.4', '1.19.5', '1.19.6', '1.19.7', '1.19.8', '1.19.9'
]


ALLOWED_CHARS = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'
def get_random_string(length=12):
    return ''.join(random.choice(ALLOWED_CHARS) for i in range(length))


if __name__ == '__main__':
    update_users()
